
* Prevent paralell refreshs

* Fix and simplify locking – use read/write lock system (we write very seldomly)
* make ImgTexture refcounted
* Rewrite AsynchTexLoader
	* Window might be destroyed anytime!
	* Bias loading of covers towards current position
* Use built-in cover loader
    * cache covers?
* Use default ui colors and font?
* Highlight typed fayt text
* Improve cover caching strategy



* Fix crash on right-click before covers are loaded
* RenderThread should own displayPosition and texLoader and pass all messsages
* RenderThread should move the dbcollection?
   Whoever does it does not need readlocks?
* call glFinish after buffer swap https://www.opengl.org/wiki/Swap_Interval
** Memory leak when jumping from t to k via fayt??



// Release
* Windows scripting control??
* Ask for better default images
* Ask for better configs
* Document hidden features (keyboard shortcuts) / Link to docu on wiki
* Ask people to test texture compression
* explain Database Filters: http://wiki.hydrogenaud.io/index.php?title=Foobar2000:Query_syntax
* Release on Github


// Future
* Disable when not shown in DUI
* Add help button for filter
* Fix AsynchTexLoader
	* Why are we queueing uploads?
* Better texture uploading? https://www.opengl.org/wiki/OpenGL_and_multithreading
* Drag and Drop?
* Proper unicode sort


# Release Steps
* make sure CoverConfigs are in sync
* Bump version number
* Build with new version number
* tag version
* safe dll AND pdb
* upload to github
* update forum post


== BUGS ==
Fehler wenn instanz während reload beendet wird!
	- das DB refreshen im texLoader thread machen (some kind of borrowThread(callback function) function?
		oder: threaded_process.h  (wollen wir ein GUI Fenster, wenn der Reload lange dauert?)
	- keine window message, sondern main_thread_callback (stellt sicher, dass cache geleert wird)
copyDataToCollection braucht zu lange
Aufrufhäufigkeit von CleanupCache von Cache-Größe abhängig machen
FPS anzeige geht im Release nur, wenn Foobar damit gestartet wurde
* Check if shutdown is orderly (probably is)



== incomplete/bad implementations ==
MouseFlicker: - Bildschirmauflösung beachten bei win2pos (bewegung relativ zur Bildschirmbreite)
DbAlbumCollection - Handle illegal chars in titleformat strings (see titleformat_helper in uie_albumart)
Custom Positions: Hillfelink zu JScript docu? Oder alles über wiki machen?
                  Check that upVector is not linear to view-vector
Do not use Foobar Filesystem functions! (done?)
Make a multiple-instance panel (sollte settings vereinfachen (wenn die settings offen sind, existiert auch eine instanz...) -- (achtung! alle static vars überprüfen!)
We can catch minimize messages - see message_loop.h
Contextmenu: use standard_config_objects::query_show_keyboard_shortcuts_in_menus()
CompiledCPos nicht in die Settings Datei, sondern eigene Datei.
Was passiert mit CoverRotation(30, 0, 0, 0)? (gradzahl angegeben, aber keine Achse)




== Grafische Verbesserungen ==
motion blur (generate a texture that contains the blur vector as (r,g) and use that to blur the scene via shader
3d models
Cover image overlay (so we can overlay "shine" effects or something like that)
realisitisches Lighting mit blurry shadows (siehe <http://youtube.com/watch?v=54jmrrpLwVE>)

		
== Performance ==
Nur cover rendern, die auch wirklich auf dem Bildschirm sind. <http://www.opengl.org/resources/faq/technical/viewcull.c> //Wenn das implementiert ist, hinweis dazu in die JS docu??
Sorted rendering implementieren
	->draw all opaque surfaces, preferably in front to back order
	->turn off writing to the depth buffer but don't turn off depth testing
	->draw all transparent surfaces, preferably in back to front order
Beim Erstellen der Datenbank (DbAlbumCollection::RefreshWorker::generateData() nicht tausende von pfc::string8s erstellen, sondern in einen riesigen schreiben?
Das zuletzt generierte Bild cachen und bei redraws durch windows einfach aus dem cache laden?
Only make one glOrtho push/pop for whole GUI


== Features ==
+ Playlist mode (generate album list from playlist, not db)
+ Scrollbar
zooming
Cover nach vorne holen -- nicht nach vorne holen, wenn nur an ihnen vorbeigescannt wird
Fullscreen support
Drag & Drop
Cover follows cursor
Title display: Add checkbox to UI "overwrite flow-config settings", and add function "titlePosition" (returns array([0-1],[0-1]) for position -- if it returns -1, titles are hidden)
Add a function coverBrightness(coverId)
Add a function coverBlending(coverId) -- add a note that rendering of non-blended covers is much faster!
Mainmenü-einträge erstellen, um foobar-weite hotkeys zu ermöglichen


Transparente png covers (von hinten nach vorne rendern! -> alpha test aus)
                        -- border clamp ändern (1-pixel ramen am Rand)
                        -- ausschaltbar (spart texturspeicher)
						-- Transparenz-support entfernen?


Windows Script Control: http://www.microsoft.com/downloads/details.aspx?FamilyId=D7E31492-2595-49E6-8C02-1426FEC693AC&displaylang=en